{"remainingRequest":"D:\\SpringBootVueSecondShop\\client\\Snackstore\\node_modules\\babel-loader\\lib\\index.js!D:\\SpringBootVueSecondShop\\client\\Snackstore\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\SpringBootVueSecondShop\\client\\Snackstore\\src\\store\\modules\\cart.js","dependencies":[{"path":"D:\\SpringBootVueSecondShop\\client\\Snackstore\\src\\store\\modules\\cart.js","mtime":1624836882000},{"path":"D:\\SpringBootVueSecondShop\\client\\Snackstore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SpringBootVueSecondShop\\client\\Snackstore\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\SpringBootVueSecondShop\\client\\Snackstore\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.function.name\";\nvar state = {\n  items: [],\n  //购物车\n  payItems: [] //要结算的商品\n\n}; // mutations\n\nvar mutations = {\n  //获取购物车数据\n  getItems: function getItems(state, list) {\n    state.items = list;\n  },\n  // 添加商品到购物车中\n  pushProductToCart: function pushProductToCart(state, _ref) {\n    var id = _ref.id,\n        commodityId = _ref.commodityId,\n        photoOne = _ref.photoOne,\n        name = _ref.name,\n        price = _ref.price,\n        quantity = _ref.quantity;\n    if (!quantity) quantity = 1;\n    state.items.push({\n      id: id,\n      commodityId: commodityId,\n      photoOne: photoOne,\n      name: name,\n      price: price,\n      quantity: quantity\n    });\n  },\n  // 增加商品数量\n  incrementItemQuantity: function incrementItemQuantity(state, _ref2) {\n    var id = _ref2.id,\n        quantity = _ref2.quantity;\n    var cartItem = state.items.find(function (item) {\n      return item.id == id;\n    });\n    cartItem.quantity += quantity;\n  },\n  //减少商品数量\n  reduceItemQuantity: function reduceItemQuantity(state, _ref3) {\n    var id = _ref3.id,\n        quantity = _ref3.quantity;\n    var cartItem = state.items.find(function (item) {\n      return item.id == id;\n    });\n    cartItem.quantity -= quantity;\n  },\n  // 用于清空购物车\n  setCartItems: function setCartItems(state) {\n    state.items = [];\n  },\n  // 删除购物车中的产品(可以多个)\n  deleteCartItem: function deleteCartItem(state, list) {\n    console.log(list);\n\n    var _loop = function _loop(i) {\n      var index = state.items.findIndex(function (item) {\n        return item.id === list[i].id;\n      });\n      if (index > -1) state.items.splice(index, 1);\n    };\n\n    for (var i = 0; i < list.length; i++) {\n      _loop(i);\n    }\n  },\n  //获得要结算的商品列表\n  getPayItems: function getPayItems(state, list) {\n    state.payItems = list;\n  }\n};\nvar getters = {\n  // 获取购物车中商品的数量\n  itemsCount: function itemsCount(state) {\n    return state.items.length;\n  },\n  //获得待结算的商品总价\n  totalPrice: function totalPrice(state) {\n    return state.payItems.reduce(function (total, product) {\n      return total + product.price * product.discount * product.quantity;\n    }, 0).toFixed(2);\n  }\n};\nexport default {\n  namespaced: true,\n  state: state,\n  mutations: mutations,\n  getters: getters\n};",{"version":3,"sources":["D:/SpringBootVueSecondShop/client/Snackstore/src/store/modules/cart.js"],"names":["state","items","payItems","mutations","getItems","list","pushProductToCart","id","commodityId","photoOne","name","price","quantity","push","incrementItemQuantity","cartItem","find","item","reduceItemQuantity","setCartItems","deleteCartItem","console","log","i","index","findIndex","splice","length","getPayItems","getters","itemsCount","totalPrice","reduce","total","product","discount","toFixed","namespaced"],"mappings":"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","sourcesContent":["const state = {\r\n  items: [],  //购物车\r\n  payItems:[],//要结算的商品\r\n}\r\n// mutations\r\nconst mutations = {\r\n  //获取购物车数据\r\n  getItems(state,list){\r\n    state.items = list;\r\n  },\r\n  // 添加商品到购物车中\r\n  pushProductToCart(state, { id, commodityId, photoOne, name, price, quantity}) {\r\n    if(! quantity)\r\n      quantity = 1;\r\n    state.items.push({ id, commodityId, photoOne, name, price, quantity });\r\n  },\r\n  // 增加商品数量\r\n  incrementItemQuantity(state, { id, quantity }) {\r\n    let cartItem = state.items.find(item => item.id == id);\r\n    cartItem.quantity += quantity;\r\n  },\r\n  //减少商品数量\r\n  reduceItemQuantity(state, {id, quantity}){\r\n    let cartItem = state.items.find(item => item.id == id);\r\n    cartItem.quantity -= quantity;\r\n  },\r\n  // 用于清空购物车\r\n  setCartItems(state) {\r\n    state.items = []\r\n  },\r\n  // 删除购物车中的产品(可以多个)\r\n  deleteCartItem(state, list){\r\n    console.log(list)\r\n    for(let i=0; i<list.length; i++){\r\n      let index = state.items.findIndex(item => item.id === list[i].id);       \r\n      if(index > -1)\r\n        state.items.splice(index, 1);\r\n    }\r\n  },\r\n\r\n  //获得要结算的商品列表\r\n  getPayItems(state, list){\r\n    state.payItems = list;\r\n  }\r\n}\r\n\r\n\r\nconst getters = {\r\n  // 获取购物车中商品的数量\r\n  itemsCount: (state) => {\r\n    return state.items.length;\r\n  },\r\n\r\n  //获得待结算的商品总价\r\n  totalPrice: (state) => {\r\n    return  state.payItems.reduce((total, product) => {\r\n      return total + product.price * product.discount * product.quantity\r\n    },0).toFixed(2)\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  getters,\r\n}"]}]}