{"remainingRequest":"D:\\Snackstore\\node_modules\\babel-loader\\lib\\index.js!D:\\Snackstore\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Snackstore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Snackstore\\src\\views\\sell\\SellOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Snackstore\\src\\views\\sell\\SellOrder.vue","mtime":1624836882000},{"path":"D:\\Snackstore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Snackstore\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Snackstore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Snackstore\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"D:/Snackstore/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState } from 'vuex';\nexport default {\n  name: \"SellOrder\",\n  data: function data() {\n    return {\n      orders: []\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.axios.get(\"/order/shop/\" + this.sell.id, {\n      params: {\n        page: 1\n      }\n    }).then(function (response) {\n      if (response.status == 200) {\n        _this.orders = response.data.data.records;\n      }\n    });\n  },\n  computed: _objectSpread({}, mapState('user', ['sell'])),\n  methods: {\n    filterTag: function filterTag(value, row) {\n      return row.status === value;\n    },\n    //发货\n    handleSend: function handleSend(row) {\n      var _this2 = this;\n\n      this.$confirm(\"确认发货?\").then(function () {\n        row.status = 3;\n\n        _this2.axios.post(\"/order/update\", row).then(function (response) {\n          if (response.data.code == 0) {\n            _this2.$message({\n              type: 'success',\n              message: \"发货成功！\"\n            });\n          } else {\n            _this2.$message(response.data.msg);\n          }\n        }).catch(function () {\n          (function (error) {\n            return alert(error);\n          });\n        });\n      }).catch(function () {});\n    },\n    //同意退货\n    handleAgreeReturn: function handleAgreeReturn(row) {\n      var _this3 = this;\n\n      this.$confirm(\"确认同意退货?\").then(function () {\n        row.status = 6;\n\n        _this3.axios.post(\"/order/update\", row).then(function (response) {\n          if (response.data.code == 0) {\n            _this3.$message({\n              type: 'success',\n              message: \"退货成功！\"\n            });\n          } else {\n            _this3.$message(response.data.msg);\n          }\n        }).catch(function () {\n          (function (error) {\n            return alert(error);\n          });\n        });\n      }).catch(function () {});\n    },\n    //拒绝退货\n    handleNotAgreeReturn: function handleNotAgreeReturn(row) {\n      var _this4 = this;\n\n      this.$confirm(\"确认拒绝退货?\").then(function () {\n        row.status = 7;\n\n        _this4.axios.post(\"/order/update\", row).then(function (response) {\n          if (response.data.code == 0) {\n            _this4.$message({\n              type: 'success',\n              message: \"拒绝退货成功！\"\n            });\n          } else {\n            _this4.$message(response.data.msg);\n          }\n        }).catch(function () {\n          (function (error) {\n            return alert(error);\n          });\n        });\n      }).catch(function () {});\n    },\n    //判断订单处于哪一阶段，显示该阶段的操作\n    determineType: function determineType(status, operation) {\n      if (operation == \"发货\") {\n        if (status == 2) return true;\n      } else if (operation == \"退货\") {\n        if (status == 5) return true;\n      } else {\n        //拒绝退货\n        if (status == 5) return true;\n      }\n\n      return false;\n    }\n  },\n  filters: {\n    formatStatus: function formatStatus(val) {\n      var value = \"\";\n\n      switch (val) {\n        case 2:\n          value = \"待发货\";\n          break;\n\n        case 3:\n          value = \"运输中\";\n          break;\n\n        case 4:\n          value = \"已收货\";\n          break;\n\n        case 5:\n          value = \"退货待审核\";\n          break;\n\n        case 6:\n          value = \"已退货\";\n          break;\n\n        case 7:\n          value = \"拒绝退货\";\n          break;\n\n        case 8:\n          value = \"已完成\";\n          break;\n      }\n\n      return value;\n    }\n  }\n};",{"version":3,"sources":["SellOrder.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"order\">\r\n        <el-table :data=\"orders\" stripe style=\"width: 100%\">\r\n            <el-table-column width=\"30\"></el-table-column>\r\n            <el-table-column prop=\"commodityId\"  label=\"商品ID\"  width=\"80\"></el-table-column>\r\n            <el-table-column prop=\"quantity\"  label=\"数量\"  width=\"80\"></el-table-column>\r\n            <el-table-column prop=\"amount\" label=\"总价\"  width=\"100\"></el-table-column>\r\n            <el-table-column  prop=\"creatTime\" label=\"订单开始时间\" width=\"200\"></el-table-column>\r\n            <el-table-column prop=\"endTime\" label=\"订单结束时间\"  width=\"200\"></el-table-column>\r\n            <el-table-column prop=\"status\" label=\"标签\" width=\"140\"\r\n                :filters=\"[{ text: '待发货', value: 2},{ text: '已收货', value: 4 },\r\n                { text: '退货待审核', value: 5 },{ text: '已完成', value: 8 }]\"\r\n                :filter-method=\"filterTag\"\r\n                filter-placement=\"bottom-end\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-tag\r\n                    :type=\"scope.row.status === 8 ? 'success' : 'primary'\"\r\n                    disable-transitions>{{scope.row.status | formatStatus }}</el-tag>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" width=\"200\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button v-if=\"determineType(scope.row.status,'发货')\" size=\"mini\" type=\"danger\" @click=\"handleSend(scope.row)\">发货</el-button>\r\n                    <el-button v-if=\"determineType(scope.row.status,'退货')\" size=\"mini\"  @click=\"handleAgreeReturn(scope.row)\">退货</el-button>\r\n                    <el-button v-if=\"determineType(scope.row.status,'拒绝退货')\" size=\"mini\"  @click=\"handleNotAgreeReturn(scope.row)\">拒绝退货</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nexport default {\r\n    name: \"SellOrder\",\r\n    data(){\r\n        return{\r\n            orders:[],\r\n        }\r\n    },\r\n    created(){\r\n        this.axios.get(\"/order/shop/\"+this.sell.id,{params:{page:1}}).then(response => {\r\n            if(response.status == 200){\r\n                this.orders = response.data.data.records;\r\n            }\r\n        })\r\n    },\r\n    computed:{\r\n        ...mapState('user',['sell']),\r\n    },\r\n    methods:{\r\n        filterTag(value, row) {\r\n            return row.status === value;\r\n        },\r\n        //发货\r\n        handleSend(row){\r\n            this.$confirm(\"确认发货?\").then(() =>{\r\n                row.status = 3;\r\n                this.axios.post(\"/order/update\",row).then(response => {\r\n                    if(response.data.code == 0){\r\n                        this.$message({type:'success',message:\"发货成功！\"})\r\n                    }else{\r\n                        this.$message(response.data.msg)\r\n                    }\r\n                }).catch(() => {error => alert(error)});\r\n            }).catch(()=>{})\r\n        },\r\n        //同意退货\r\n        handleAgreeReturn(row){\r\n            this.$confirm(\"确认同意退货?\").then(() =>{\r\n                row.status = 6;\r\n                this.axios.post(\"/order/update\",row).then(response => {\r\n                    if(response.data.code == 0){\r\n                        this.$message({type:'success',message:\"退货成功！\"})\r\n                    }else{\r\n                        this.$message(response.data.msg)\r\n                    }\r\n                }).catch(() => {error => alert(error)});\r\n            }).catch(()=>{})\r\n        },\r\n        //拒绝退货\r\n        handleNotAgreeReturn(row){\r\n            this.$confirm(\"确认拒绝退货?\").then(() =>{\r\n                row.status = 7;\r\n                this.axios.post(\"/order/update\",row).then(response => {\r\n                    if(response.data.code == 0){\r\n                        this.$message({type:'success',message:\"拒绝退货成功！\"})\r\n                    }else{\r\n                        this.$message(response.data.msg)\r\n                    }\r\n                }).catch(() => {error => alert(error)});\r\n            }).catch(()=>{})\r\n        },\r\n\r\n        \r\n        //判断订单处于哪一阶段，显示该阶段的操作\r\n        determineType(status, operation){\r\n            if(operation == \"发货\"){\r\n                if(status == 2) return true\r\n            }else if(operation == \"退货\"){\r\n                if(status == 5) return true\r\n            }else{  //拒绝退货\r\n                if(status == 5) return true\r\n            }\r\n            return false\r\n        },\r\n    },\r\n    filters:{\r\n        formatStatus(val){\r\n            let value = \"\";\r\n            switch(val) {\r\n                case 2:\r\n                    value = \"待发货\";\r\n                    break;\r\n                case 3:\r\n                    value = \"运输中\";\r\n                    break;\r\n                case 4:\r\n                    value = \"已收货\";\r\n                    break;\r\n                case 5:\r\n                    value = \"退货待审核\";\r\n                    break;\r\n                case 6:\r\n                    value = \"已退货\";\r\n                    break;\r\n                case 7:\r\n                    value = \"拒绝退货\";\r\n                    break;\r\n                case 8:\r\n                    value = \"已完成\";\r\n                    break;                    \r\n            }\r\n            return value;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .order{\r\n        width: 1030px;\r\n        margin: 0 auto;\r\n        margin-top: 50px;\r\n    }\r\n</style>"],"sourceRoot":"src/views/sell"}]}