{"remainingRequest":"D:\\Snackstore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Snackstore\\src\\views\\admin\\UserAudit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Snackstore\\src\\views\\admin\\UserAudit.vue","mtime":1716368334709},{"path":"D:\\Snackstore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Snackstore\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Snackstore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Snackstore\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n    name: 'UserAudit',\r\n    data(){\r\n        return{\r\n            userList:[],\r\n            sellList:[],\r\n        }\r\n    },\r\n    created(){\r\n        this.axios.get(\"/user\",{params:{page:1}}).then(response => {\r\n            if(response.data.code==0){\r\n                this.userList = response.data.data.records;\r\n            }\r\n        });\r\n        this.axios.get(\"/sell\",{params:{page:1}}).then(response => {\r\n            if(response.data.code==0){\r\n                this.sellList = response.data.data.records;\r\n            }\r\n        });\r\n    },\r\n    methods:{\r\n        handleEdit(row,identity){\r\n            this.$confirm(\"确认审核通过？\").then(()=>{\r\n                row.status = 1;\r\n                this.axios.post(identity+'/update',row).then(response =>{\r\n                    if(response.data.code == 0){\r\n                        this.$message({\r\n                            type:'success',\r\n                            message:\"操作成功！\"\r\n                        })\r\n                    }else{\r\n                        this.$message(\"操作失败！\")\r\n                    }\r\n                });\r\n            }).catch(() => {});\r\n        },\r\n\r\n        handleDelete(row,identity){\r\n            this.$confirm(\"确认审核失败？\").then(()=>{\r\n                row.status = 3;\r\n                this.axios.post(identity+'/update',row).then(response =>{\r\n                    if(response.data.code == 0){\r\n                        this.$message({\r\n                            type:'success',\r\n                            message:\"操作成功！\"\r\n                        })\r\n                    }else{\r\n                        this.$message(\"操作失败！\")\r\n                    }\r\n                });\r\n            }).catch(() => {});\r\n        },\r\n\r\n         handleBan(row, identity) {\r\n            this.$confirm(\"确认封禁此用户？\").then(() => {\r\n                row.status = 3;\r\n                this.axios.post(identity+'/update', row).then((response) => {\r\n                    if (response.data.code == 0) {\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: \"用户已封禁！\",\r\n                        });\r\n                    } else {\r\n                        this.$message(\"操作失败！\");\r\n                    }\r\n                });\r\n            }).catch(() => {});\r\n        },\r\n\r\n        filterTag(value, row) {\r\n            return row.tag === value;\r\n        },\r\n\r\n        getTap(row){\r\n            if(row.status =='0'){\r\n                return \"\"\r\n            }else if(row.status == '1'){\r\n                return \"success\"\r\n            }else\r\n                return \"danger\"\r\n        }\r\n    },\r\n    filters:{\r\n        statusValue: function(value){\r\n            if(value=='0'){\r\n                return \"待审核\"\r\n            }else if(value == '1'){\r\n                return \"审核通过\"\r\n            }else if(value == \"2\"){\r\n                return \"审核失败\"\r\n            }else if(value == \"3\"){\r\n                return \"封禁中\";\r\n            }\r\n                \r\n        }\r\n    }\r\n}\r\n",{"version":3,"sources":["UserAudit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"UserAudit.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n    <div class=\"userAudit\">\r\n        <h3>普通用户</h3>\r\n        <el-table :data=\"userList\" stripe=\"\" style=\"width: 80%\">\r\n            <el-table-column prop=\"id\" label=\"ID\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column label=\"姓名\" width=\"180\">\r\n            <template slot-scope=\"scope\">\r\n                <el-popover trigger=\"hover\" placement=\"top\">\r\n                <p>姓名: {{ scope.row.name }}</p>\r\n                <p>电话: {{ scope.row.phone }}</p>\r\n                <p>城市: {{ scope.row.city }}</p>\r\n                <div slot=\"reference\" class=\"name-wrapper\">\r\n                    <el-tag size=\"medium\">{{ scope.row.name }}</el-tag>\r\n                </div>\r\n                </el-popover>\r\n            </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"status\"\r\n            label=\"状态\"\r\n            width=\"150\"\r\n            :filters=\"[{ text: '待审核', value: 0 }, \r\n            { text: '审核通过', value: 1 },\r\n            { text: '审核失败', value: 2 },\r\n            { text: '封禁中', value: 3 }]\"\r\n            :filter-method=\"filterTag\"\r\n            filter-placement=\"bottom-end\">\r\n            <template slot-scope=\"scope\">\r\n                <el-tag\r\n                :type=\"getTap(scope.row)\"\r\n                disable-transitions>{{scope.row.status | statusValue}}</el-tag>\r\n            </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"审核操作\">\r\n            <template slot-scope=\"scope\">\r\n                <el-button\r\n                size=\"mini\"\r\n                type=\"primary\"\r\n                @click=\"handleEdit(scope.row,'user')\">通过</el-button>\r\n                <el-button\r\n                size=\"mini\"\r\n                type=\"danger\"\r\n                @click=\"handleDelete(scope.row,'user')\">失败</el-button>\r\n                <el-button\r\n                size=\"mini\"\r\n                type=\"warning\"\r\n                @click=\"handleBan(scope.row,'user')\">一键封禁</el-button>\r\n            </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n\r\n        <h3>商家</h3>\r\n        <el-table :data=\"sellList\" stripe=\"\" style=\"width: 80%\">\r\n            <el-table-column prop=\"id\" label=\"ID\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column label=\"姓名\" width=\"180\">\r\n            <template slot-scope=\"scope\">\r\n                <el-popover trigger=\"hover\" placement=\"top\">\r\n                <p>姓名: {{ scope.row.name }}</p>\r\n                <p>电话: {{ scope.row.phone }}</p>\r\n                <div slot=\"reference\" class=\"name-wrapper\">\r\n                    <el-tag size=\"medium\">{{ scope.row.name }}</el-tag>\r\n                </div>\r\n                </el-popover>\r\n            </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"status\"\r\n            label=\"状态\"\r\n            width=\"150\"\r\n            :filters=\"[{ text: '待审核', value: 0 }, \r\n            { text: '审核通过', value: 1 },\r\n            { text: '审核失败', value: 2 },\r\n            { text: '封禁中', value: 3 }]\"\r\n            :filter-method=\"filterTag\"\r\n            filter-placement=\"bottom-end\">\r\n            <template slot-scope=\"scope\">\r\n                <el-tag\r\n                :type=\"getTap(scope.row)\"\r\n                disable-transitions>{{scope.row.status | statusValue}}</el-tag>\r\n            </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"审核操作\">\r\n            <template slot-scope=\"scope\">\r\n                <el-button\r\n                size=\"mini\"\r\n                type=\"primary\"\r\n                @click=\"handleEdit(scope.row,'sell')\">通过</el-button>\r\n                <el-button\r\n                size=\"mini\"\r\n                type=\"danger\"\r\n                @click=\"handleDelete(scope.row,'sell')\">失败</el-button>\r\n                <el-button\r\n                size=\"mini\"\r\n                type=\"warning\"\r\n                @click=\"handleBan(scope.row,'sell')\">一键封禁</el-button>\r\n            </template>\r\n            </el-table-column>\r\n        </el-table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'UserAudit',\r\n    data(){\r\n        return{\r\n            userList:[],\r\n            sellList:[],\r\n        }\r\n    },\r\n    created(){\r\n        this.axios.get(\"/user\",{params:{page:1}}).then(response => {\r\n            if(response.data.code==0){\r\n                this.userList = response.data.data.records;\r\n            }\r\n        });\r\n        this.axios.get(\"/sell\",{params:{page:1}}).then(response => {\r\n            if(response.data.code==0){\r\n                this.sellList = response.data.data.records;\r\n            }\r\n        });\r\n    },\r\n    methods:{\r\n        handleEdit(row,identity){\r\n            this.$confirm(\"确认审核通过？\").then(()=>{\r\n                row.status = 1;\r\n                this.axios.post(identity+'/update',row).then(response =>{\r\n                    if(response.data.code == 0){\r\n                        this.$message({\r\n                            type:'success',\r\n                            message:\"操作成功！\"\r\n                        })\r\n                    }else{\r\n                        this.$message(\"操作失败！\")\r\n                    }\r\n                });\r\n            }).catch(() => {});\r\n        },\r\n\r\n        handleDelete(row,identity){\r\n            this.$confirm(\"确认审核失败？\").then(()=>{\r\n                row.status = 3;\r\n                this.axios.post(identity+'/update',row).then(response =>{\r\n                    if(response.data.code == 0){\r\n                        this.$message({\r\n                            type:'success',\r\n                            message:\"操作成功！\"\r\n                        })\r\n                    }else{\r\n                        this.$message(\"操作失败！\")\r\n                    }\r\n                });\r\n            }).catch(() => {});\r\n        },\r\n\r\n         handleBan(row, identity) {\r\n            this.$confirm(\"确认封禁此用户？\").then(() => {\r\n                row.status = 3;\r\n                this.axios.post(identity+'/update', row).then((response) => {\r\n                    if (response.data.code == 0) {\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: \"用户已封禁！\",\r\n                        });\r\n                    } else {\r\n                        this.$message(\"操作失败！\");\r\n                    }\r\n                });\r\n            }).catch(() => {});\r\n        },\r\n\r\n        filterTag(value, row) {\r\n            return row.tag === value;\r\n        },\r\n\r\n        getTap(row){\r\n            if(row.status =='0'){\r\n                return \"\"\r\n            }else if(row.status == '1'){\r\n                return \"success\"\r\n            }else\r\n                return \"danger\"\r\n        }\r\n    },\r\n    filters:{\r\n        statusValue: function(value){\r\n            if(value=='0'){\r\n                return \"待审核\"\r\n            }else if(value == '1'){\r\n                return \"审核通过\"\r\n            }else if(value == \"2\"){\r\n                return \"审核失败\"\r\n            }else if(value == \"3\"){\r\n                return \"封禁中\";\r\n            }\r\n                \r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nh3{\r\n    \r\n    margin: 20px 0;\r\n}\r\n.el-table{\r\n    margin: 0 auto;\r\n}\r\n</style>"]}]}