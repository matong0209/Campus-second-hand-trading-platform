{"remainingRequest":"D:\\Snackstore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Snackstore\\src\\views\\sell\\Shop.vue?vue&type=style&index=0&id=52071989&scoped=true&lang=css&","dependencies":[{"path":"D:\\Snackstore\\src\\views\\sell\\Shop.vue","mtime":1716438548025},{"path":"D:\\Snackstore\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\Snackstore\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Snackstore\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Snackstore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Snackstore\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.shop{\r\n    position: relative;\r\n    color: #846e6e;\r\n    width: 1200px;\r\n    text-align: left;\r\n    margin: 0 auto;\r\n}\r\n.shop h3{\r\n    text-align: center;\r\n    margin: 25px 0;\r\n}\r\n.shop .addBt{\r\n    position: absolute;\r\n    margin-left: 20px;\r\n    top: 10px;\r\n}\r\n\r\n",{"version":3,"sources":["Shop.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Shop.vue","sourceRoot":"src/views/sell","sourcesContent":["<template>\r\n    <div class=\"shop\">\r\n        <h1>{{sell.name}}的店铺<el-button class=\"addBt\" icon=\"el-icon-plus\" size=\"mini\" @click=\"addCommodity\">添加商品</el-button></h1>\r\n        \r\n        <Dialog @update=\"update\" @dialogHide=\"dialogHide\" :dialogVisible=\"dialogVisible\" :addFlag=\"addFlag\"  :form=\"form\"/>\r\n        \r\n        <div class=\"waitCheck\" v-if=\"waitCheck!=null\">\r\n            <h3>待审核商品</h3>\r\n            <CommodityList @update=\"update\" @updateCommodity=\"updateCommodity\" :list=\"waitCheck\" :isNeedMask=\"true\"/>\r\n        </div>\r\n        <div class=\"soldOut\" v-if=\"soldOut!=null\">\r\n            <h3>已下架商品</h3>\r\n            <CommodityList @update=\"update\" @updateCommodity=\"updateCommodity\" :list=\"soldOut\" />\r\n        </div>\r\n        <h3>店内商品</h3>\r\n        <Commodities/>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { mapMutations, mapState } from 'vuex'\r\nimport CommodityList from '../../components/CommodityList.vue'\r\nimport Dialog from '../../components/Dialog.vue'\r\nimport Commodities from '../Commodities.vue'\r\nexport default {\r\n    name: \"Shop\",\r\n    computed: {\r\n        ...mapState(['waitCheck','soldOut']),  //待审核商品\r\n        ...mapState('user',['sell'])\r\n\r\n    },\r\n    components: { Commodities, CommodityList, Dialog },\r\n    created(){\r\n       this.getWaitCheckList(); //获得商家待审核商品列表\r\n       this.getSoldOutList();   //获得商家已下架商品列表\r\n    },\r\n    data(){\r\n        return{\r\n            form:{},\r\n            dialogVisible: false,\r\n            addFlag:true,   //添加商品还是修改商品\r\n            item:{},\r\n        }\r\n    },\r\n    methods:{\r\n        addCommodity(){\r\n            this.form = {\r\n                shopId:\"\",\r\n                name: \"华为手机\",\r\n                kindId:\"1\",\r\n                price:\"2988\",\r\n                discount: \"1\",//折扣\r\n                instruction:\"商品质量完好，商家信誉保证，大小适中，造型精致，非常适合\",\r\n                bargain:false,\r\n            }\r\n            this.addFlag = true;\r\n            this.dialogVisible = true;\r\n        },\r\n        getWaitCheckList(){     //获得商家待审核商品列表\r\n             this.axios.post('/commodity/searchOrder',{ status: [0], shop_id:[this.$route.params.id] }).then(response =>{\r\n                if(response.data.code == 0){\r\n                    this.getWaitCheck(response.data.data.records);\r\n                }\r\n            }).catch(error => alert(error));\r\n        },\r\n         getSoldOutList(){     //获得商家已下架商品列表\r\n             this.axios.post('/commodity/searchOrder',{ status:[3], shop_id:[this.$route.params.id] }).then(response =>{\r\n                if(response.data.code == 0){\r\n                    this.getSoldOut(response.data.data.records);\r\n                }\r\n            }).catch(error => alert(error));\r\n        },\r\n        dialogHide(){\r\n            this.dialogVisible = false;\r\n        },\r\n        ...mapMutations(['getWaitCheck','getSoldOut']),\r\n\r\n        //子组件传值 更新商品\r\n        updateCommodity(item){\r\n            this.item = item;\r\n            this.form = Object.assign({},item)\r\n            this.addFlag = false;\r\n            this.dialogVisible = true;\r\n        },\r\n        update(item){\r\n            this.item = item;\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.shop{\r\n    position: relative;\r\n    color: #846e6e;\r\n    width: 1200px;\r\n    text-align: left;\r\n    margin: 0 auto;\r\n}\r\n.shop h3{\r\n    text-align: center;\r\n    margin: 25px 0;\r\n}\r\n.shop .addBt{\r\n    position: absolute;\r\n    margin-left: 20px;\r\n    top: 10px;\r\n}\r\n\r\n</style>"]}]}